# Tello-Console
仲戸川式Telloクラスコントロールライブラリー
# 0.Document
　やぁ。Tello-Console にようこそ。このプログラムはTello EDU を Python で簡単にプログラミングできるようにするコントロールライブラリーツールです。DJI公式ライブラリのTello.py を改造したなんちゃってライブラリがこのTello-Consoleです。このライブラリクラスを使えば、ドローンのプログラミングが簡単にできるようになります。是非、本プログラムを使って Python を楽しんでください。簡潔に作業を進められるよう。利用する際はこのREADME.md を常時開いた状態で行うことを強く勧めます。
  
　このプログラムは、Ubuntu で動作することを前提に作っています。Windows での動作は保証しません。macOSでは稼働しますが、Intel チップ搭載のMacを前提にしています。M1チップのMacの動作は保証しません。加えて、現在Windowsでも動作するかどうかの確認を行っております。
  
# 1 環境構築
　では、本ライブラリを使用できるように環境を構築しましょう。先ほど述べた通り、ここでは Ubuntu を前提に話を進めます。本ライブラリでは、OpenCVを必要とします。以下のコマンドを入力して、OpenCVがインストールされているか確認してください。エラーが出ていない方は**このセクションをスキップしてください**
 ```bash
$ python3
> import cv2
> cv2.__version__
x.x.x
```
このように、x.x.x （バージョンの応答）が返された場合は OpenCV はあなたの環境にインストールされています。しかし、
```bash
ModuleNotFoundError: No module named 'cv2'
```
というエラーが、出ている場合、これは OpenCV が入っていないことを表しています。
## 1.1 OpenCV をインストールする
　先ほどのコマンドで、エラー文を吐いたからはこのセクションをご覧ください。
 
　はじめに、以下のコマンドを入力してください。
 ```bash
 $ python3 -V
 ```
 注意：コピペせずにコマンドを入力している方、-V は大文字です。小文字ではありません
   
 このコマンドを実行してエラーが出たら、以下のコマンドを実行してください。
 ```bash
$ sudo apt install python3-pip
```
終了したら、もう一度2つ前のコマンドを実行して、エラーが出ないことを確認してください。確認ができたら、次は以下のコマンドを実行してください。先ほどインストールした pip3 を用いて、OpenCVをインストールします。
```bash
$ pip3 install opencv-python
$ pip3 install opencv-contrib-python
```
Numpy をインストールします。
```bash
$ pip3 install numpy
```
確認のため、pip3によりインストールしたモジュールたちをリスト表示します。
```bash
pip3 list
```
テストを実行します。
```bash
$ python3
```
```bash
> import cv2
> import cv2.__version__
```
これでバージョンが表示されたら成功です。続いて、Numpy も確認します。
```bash
> import numpy
> import numpy.__version__
```
これでバージョンが表示されたら環境構築は完了です。
## macOSの環境構築方法
　本ライブラリは、基本的には ubuntu を対象としていますが、macOS もサポートしています。このセクションでは、macOS での環境構築方法について解説します。ubuntu をインストールされている方は無視してください。
  
　まずは、Mac にOpenCVがインストールされているか確認しましょう。Mac に OpenCV がいんすトールされているかを確認する方法は、ubuntu での確認方法と同様です。**1 環境構築**セクションを参照して確認してください。この時、エラーが出なかったら完了です。もしエラーが出たら、以下の作業を行います。
  
　最初に pip3 があるかどうかを確認します。以下のコマンドを実行してください。
 ```bash
$ pip3 install opencv-python
```
 この時、もしエラーが発生せず無事に成功したら、**OpenCV をインストールする方法**のセクションと同様の手順でインストールを行なってください。しかし、もし以下のようなエラーが出た場合は以下の作業を行う必要があります。
```bash
-bash: pip3: command not found
```
　まずは pip3 をインストールしましょう。以下のコマンドを実行してください。
 ```bash
$ brew install python3
```
 もし、以下のようなエラーが出たら、以下の作業を行なってください。
 ```bash
bash: brew: command not found
```
brew を以下のコマンドでインストールします。
```bash
$ /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)"
```
インストールが完了したら、1つ前のコマンドを再実行してください。完了したら、**OpenCV をインストールする方法**のセクションと同様の手順でインストールを行なってください。

## 1.2.Download
ダウンロード環境は Ubuntu 20 を対象にしています。Windows でのダウンロードは今後サポート予定ですが、現在は推奨していません。
以下のコマンドをターミナルで実行してください。ホームディレクトリに追加されます。
  
ターミナルの立ち上げは、キーボードの Alt + Cntrl + T を押してください。そして、以下のコマンドを入力してください。 git clone を行った際、アカウント名とパスワードが要求されます。これは GitHub に再ナップしたメアドとパスワードを入力してください。
```bash
$ cd
$ git-clone https://github.com/GAI-313/Tello-Console.git
```
ホームディレクトリを確認し、ダウンロードが成功したかを確認してください
```bash
$ cd
$ ls
/Tello-Console <コレが表示されていたら成功
```
# 2.Try
　ダウンロードが完了したら、実際にドローンをPCに接続して、サンプルプログラムを実行してみましょう。
## 2.1 Tello EDU の WIFI に接続
1. Ubuntuのデスクトップ画面右上の WIFI マークをクリック
2. Select WI-FI もしくは WI-FI に接続…をクリック
3. TELLO- から始めるホスト名をクリック
4. Wi-Fi マークが？または接続マークが出たら成功
  
## 2.2 sample-flight.py を実行
1. ターミナルでTello-Console ディレクトリに移動します。
```bash
$ cd Tello-Console
```
2. sample-flight を実行してみましょう。
　このプログラムは、ドローンをプログラムで飛行させるサンプルプログラムです。
   
<span style="color: red">***このプログラムは、ドローンを実際に飛行させます。実行する前に、周囲に十分な空間があることを確認してください。また、以下のプログラム仕様を十分に理解した上でプログラムを実行してください。***</span>
  
　このプログラムは、ドローンを離陸させたあとに上空で360度旋回して、その場に着陸します。飛行中に機体が暴走したら Cntrol + C を実行して、プログラムを停止してください。プログラムが強制停止されると、ドローンはその場でモータオを停止し、自己墜落します。
   
 3. 以上の仕様を理解した上で、以下のコマンドを実行してください。このコマンドを実行すると、すぐにプログラムが実行され、ドローンは離陸を開始します。
 ```bash
 $ python3 sample-Flight.py
 ```
## 2.3 work_space で飛行プログラムを書いてみよう
　カレントディレクトリ内にある work_space には、tello.py と簡易マニュアルが書かれた README.md があります。このディレクトリ内に新しいプログラムを作成し、Tello を飛ばしてみましょう。
 
## 2.4 openCV を体験しよう
　本ライブラリには OpenCVを使って、Tello のカメラビューを表示するシステムが備わっています。以下のプログラムを実行して Tello からのカメラビューを見てみましょう。
```bash
$ python3 ~/Tello-Console/sample_video.py
```
 # Infomation
 Tello-Condsoleのtello.pyの詳細については、Infomation/README.md を参照してください
   
このリポジトリは定期的にアップデートを行います。アプデ内容はリリースノートに記述しますので、確認してください。

